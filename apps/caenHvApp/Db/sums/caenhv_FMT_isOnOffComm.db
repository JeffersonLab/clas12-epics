
record(calc,"B_DET_FMT_HV_DRIFT:isOn") 
{
    field(INPA,"B_DET_FMT_HV_L1_DRIFT.L CPP")
    field(INPB,"B_DET_FMT_HV_L2_DRIFT.L CPP")
    field(INPC,"B_DET_FMT_HV_L3_DRIFT.L CPP")
    field(INPD,"B_DET_FMT_HV_L4_DRIFT.L CPP")
    field(INPE,"B_DET_FMT_HV_L5_DRIFT.L CPP")
    field(INPF,"B_DET_FMT_HV_L6_DRIFT.L CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_FMT_HV_DRIFT:isOff") 
{
    field(INPA,"B_DET_FMT_HV_L1_DRIFT.L CPP")
    field(INPB,"B_DET_FMT_HV_L2_DRIFT.L CPP")
    field(INPC,"B_DET_FMT_HV_L3_DRIFT.L CPP")
    field(INPD,"B_DET_FMT_HV_L4_DRIFT.L CPP")
    field(INPE,"B_DET_FMT_HV_L5_DRIFT.L CPP")
    field(INPF,"B_DET_FMT_HV_L6_DRIFT.L CPP")
    field(CALC,"A=0&&B=0&&C=0&&D=0&&E=0&&F=0")
}
record(calc,"B_DET_FMT_HV_DRIFT:isComm") 
{
    field(INPA,"B_DET_FMT_HV_L1_DRIFT.T CPP")
    field(INPB,"B_DET_FMT_HV_L2_DRIFT.T CPP")
    field(INPC,"B_DET_FMT_HV_L3_DRIFT.T CPP")
    field(INPD,"B_DET_FMT_HV_L4_DRIFT.T CPP")
    field(INPE,"B_DET_FMT_HV_L5_DRIFT.T CPP")
    field(INPF,"B_DET_FMT_HV_L6_DRIFT.T CPP")
    field(CALC,"A=0&&B=0&&C=0&&D=0&&E=0&&F=0")
}
record(calc,"B_DET_FMT_HV_DRIFT:isError") 
{
    field(INPA,"B_DET_FMT_HV_L1_DRIFT.L CPP")
    field(INPB,"B_DET_FMT_HV_L2_DRIFT.L CPP")
    field(INPC,"B_DET_FMT_HV_L3_DRIFT.L CPP")
    field(INPD,"B_DET_FMT_HV_L4_DRIFT.L CPP")
    field(INPE,"B_DET_FMT_HV_L5_DRIFT.L CPP")
    field(INPF,"B_DET_FMT_HV_L6_DRIFT.L CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7")
}

record(calc,"B_DET_FMT_HV_STRIP:isOn") 
{
    field(INPA,"B_DET_FMT_HV_IN_L1_STRIP.L CPP")
    field(INPB,"B_DET_FMT_HV_IN_L2_STRIP.L CPP")
    field(INPC,"B_DET_FMT_HV_IN_L3_STRIP.L CPP")
    field(INPD,"B_DET_FMT_HV_IN_L4_STRIP.L CPP")
    field(INPE,"B_DET_FMT_HV_IN_L5_STRIP.L CPP")
    field(INPF,"B_DET_FMT_HV_IN_L6_STRIP.L CPP")
    field(INPG,"B_DET_FMT_HV_OUT_L1_STRIP.L CPP")
    field(INPH,"B_DET_FMT_HV_OUT_L2_STRIP.L CPP")
    field(INPI,"B_DET_FMT_HV_OUT_L3_STRIP.L CPP")
    field(INPJ,"B_DET_FMT_HV_OUT_L4_STRIP.L CPP")
    field(INPK,"B_DET_FMT_HV_OUT_L5_STRIP.L CPP")
    field(INPL,"B_DET_FMT_HV_OUT_L6_STRIP.L CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1&&G=1&&H=1&&I=1&&J=1&&K=1&&L=1")
}
record(calc,"B_DET_FMT_HV_STRIP:isOff") 
{
    field(INPA,"B_DET_FMT_HV_IN_L1_STRIP.L CPP")
    field(INPB,"B_DET_FMT_HV_IN_L2_STRIP.L CPP")
    field(INPC,"B_DET_FMT_HV_IN_L3_STRIP.L CPP")
    field(INPD,"B_DET_FMT_HV_IN_L4_STRIP.L CPP")
    field(INPE,"B_DET_FMT_HV_IN_L5_STRIP.L CPP")
    field(INPF,"B_DET_FMT_HV_IN_L6_STRIP.L CPP")
    field(INPG,"B_DET_FMT_HV_OUT_L1_STRIP.L CPP")
    field(INPH,"B_DET_FMT_HV_OUT_L2_STRIP.L CPP")
    field(INPI,"B_DET_FMT_HV_OUT_L3_STRIP.L CPP")
    field(INPJ,"B_DET_FMT_HV_OUT_L4_STRIP.L CPP")
    field(INPK,"B_DET_FMT_HV_OUT_L5_STRIP.L CPP")
    field(INPL,"B_DET_FMT_HV_OUT_L6_STRIP.L CPP")
    field(CALC,"A=0&&B=0&&C=0&&D=0&&E=0&&F=0&&G=0&&H=0&&I=0&&J=0&&K=0&&L=0")
}
record(calc,"B_DET_FMT_HV_STRIP:isComm") 
{
    field(INPA,"B_DET_FMT_HV_IN_L1_STRIP.T CPP")
    field(INPB,"B_DET_FMT_HV_IN_L2_STRIP.T CPP")
    field(INPC,"B_DET_FMT_HV_IN_L3_STRIP.T CPP")
    field(INPD,"B_DET_FMT_HV_IN_L4_STRIP.T CPP")
    field(INPE,"B_DET_FMT_HV_IN_L5_STRIP.T CPP")
    field(INPF,"B_DET_FMT_HV_IN_L6_STRIP.T CPP")
    field(INPG,"B_DET_FMT_HV_OUT_L1_STRIP.T CPP")
    field(INPH,"B_DET_FMT_HV_OUT_L2_STRIP.T CPP")
    field(INPI,"B_DET_FMT_HV_OUT_L3_STRIP.T CPP")
    field(INPJ,"B_DET_FMT_HV_OUT_L4_STRIP.T CPP")
    field(INPK,"B_DET_FMT_HV_OUT_L5_STRIP.T CPP")
    field(INPL,"B_DET_FMT_HV_OUT_L6_STRIP.T CPP")
    field(CALC,"A=0&&B=0&&C=0&&D=0&&E=0&&F=0&&G=0&&H=0&&I=0&&J=0&&K=0&&L=0")
}
record(calc,"B_DET_FMT_HV_STRIP:isError") 
{
    field(INPA,"B_DET_FMT_HV_IN_L1_STRIP.L CPP")
    field(INPB,"B_DET_FMT_HV_IN_L2_STRIP.L CPP")
    field(INPC,"B_DET_FMT_HV_IN_L3_STRIP.L CPP")
    field(INPD,"B_DET_FMT_HV_IN_L4_STRIP.L CPP")
    field(INPE,"B_DET_FMT_HV_IN_L5_STRIP.L CPP")
    field(INPF,"B_DET_FMT_HV_IN_L6_STRIP.L CPP")
    field(INPG,"B_DET_FMT_HV_OUT_L1_STRIP.L CPP")
    field(INPH,"B_DET_FMT_HV_OUT_L2_STRIP.L CPP")
    field(INPI,"B_DET_FMT_HV_OUT_L3_STRIP.L CPP")
    field(INPJ,"B_DET_FMT_HV_OUT_L4_STRIP.L CPP")
    field(INPK,"B_DET_FMT_HV_OUT_L5_STRIP.L CPP")
    field(INPL,"B_DET_FMT_HV_OUT_L6_STRIP.L CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7||G>7||H>7||I>7||J>7||K>7||L>7")
}

record(calc,"B_DET_FMT_HV:isOn")
{
    field(INPA,"B_DET_FMT_HV_DRIFT:isOn CPP")
    field(INPB,"B_DET_FMT_HV_STRIP:isOn CPP")
    field(CALC,"A=1&&B=1")
}
record(calc,"B_DET_FMT_HV:isOff")
{
    field(INPA,"B_DET_FMT_HV_DRIFT:isOff CPP")
    field(INPB,"B_DET_FMT_HV_STRIP:isOff CPP")
    field(CALC,"A=1&&B=1")
}
record(calc,"B_DET_FMT_HV:isComm")
{
    field(INPA,"B_DET_FMT_HV_DRIFT:isComm CPP")
    field(INPB,"B_DET_FMT_HV_STRIP:isComm CPP")
    field(CALC,"A=1&&B=1")
}
record(calc,"B_DET_FMT_HV:isError")
{
    field(INPA,"B_DET_FMT_HV_DRIFT:isError CPP")
    field(INPB,"B_DET_FMT_HV_STRIP:isError CPP")
    field(CALC,"A=1||B=1")
}

record(calc,"B_DET_FMT_HV")
{
    field(INPA,"B_DET_FMT_HV:isOn CPP")
    field(INPB,"B_DET_FMT_HV:isOff CPP")
    field(INPC,"B_DET_FMT_HV:isError CPP")
    field(INPD,"B_DET_FMT_HV:isComm CPP")
    field(CALC,"D=0 ? 4 : (C=1 ? 3 : (B=1 ? 0 : (A=1 ? 1 : 2)))")
}

