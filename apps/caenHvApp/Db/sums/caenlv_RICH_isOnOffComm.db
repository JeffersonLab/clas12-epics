record(calc,"B_DET_$(DET)_LV_GRP01-12:isComm")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP01:stat.STAT CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP02:stat.STAT CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP03:stat.STAT CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP04:stat.STAT CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP05:stat.STAT CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP06:stat.STAT CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP07:stat.STAT CPP")
    field(INPH,"B_DET_$(DET)_LV_GRP08:stat.STAT CPP")
    field(INPI,"B_DET_$(DET)_LV_GRP09:stat.STAT CPP")
    field(INPJ,"B_DET_$(DET)_LV_GRP10:stat.STAT CPP")
    field(INPK,"B_DET_$(DET)_LV_GRP11:stat.STAT CPP")
    field(INPL,"B_DET_$(DET)_LV_GRP12:stat.STAT CPP")
    field(CALC,"(A+B+C+D+E+F+G+H+I+J+K+L)=0")
}
record(calc,"B_DET_$(DET)_LV_GRP13-24:isComm")
{
    field(SCAN,"1 second")
#field(INPA,"B_DET_$(DET)_LV_GRP13:stat.STAT CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP14:stat.STAT CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP15:stat.STAT CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP16:stat.STAT CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP17:stat.STAT CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP18:stat.STAT CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP19:stat.STAT CPP")
    field(INPH,"B_DET_$(DET)_LV_GRP20:stat.STAT CPP")
    field(INPI,"B_DET_$(DET)_LV_GRP21:stat.STAT CPP")
    field(INPJ,"B_DET_$(DET)_LV_GRP22:stat.STAT CPP")
    field(INPK,"B_DET_$(DET)_LV_GRP23:stat.STAT CPP")
    field(INPL,"B_DET_$(DET)_LV_GRP24:stat.STAT CPP")
    field(CALC,"(C+D+E+F+G+H+I+J+K+L)=0")
}
record(calc,"B_DET_$(DET)_LV_GRP25-36:isComm")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP25:stat.STAT CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP26:stat.STAT CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP27:stat.STAT CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP28:stat.STAT CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP29:stat.STAT CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP30:stat.STAT CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP31:stat.STAT CPP")
    field(INPH,"B_DET_$(DET)_LV_GRP32:stat.STAT CPP")
    field(INPI,"B_DET_$(DET)_LV_GRP33:stat.STAT CPP")
    field(INPJ,"B_DET_$(DET)_LV_GRP34:stat.STAT CPP")
    field(INPK,"B_DET_$(DET)_LV_GRP35:stat.STAT CPP")
    field(INPL,"B_DET_$(DET)_LV_GRP36:stat.STAT CPP")
    field(CALC,"(A+B+C+D+E+F+G+H+I+J+K+L)=0")
}
record(calc,"B_DET_$(DET)_LV_GRP37-40:isComm")
{
    field(SCAN,"1 second")
#field(INPA,"B_DET_$(DET)_LV_GRP37:stat.STAT CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP38:stat.STAT CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP39:stat.STAT CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP40:stat.STAT CPP")
    field(CALC,"C=0&&D=0")
}
record(calc,"B_DET_$(DET)_LV:isComm")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP01-12:isComm CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP13-24:isComm CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP25-36:isComm CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP37-40:isComm CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1")
}

################################################
################################################

record(calc,"B_DET_$(DET)_LV_GRP01-12:a:isError")
{
    field(INPA,"B_DET_$(DET)_LV_GRP01:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP02:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP03:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP04:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP05:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP06:parsed:status2 CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7")
}
record(calc,"B_DET_$(DET)_LV_GRP01-12:b:isError")
{
    field(INPA,"B_DET_$(DET)_LV_GRP07:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP08:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP09:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP10:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP11:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP12:parsed:status2 CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7")
}
record(calc,"B_DET_$(DET)_LV_GRP13-24:a:isError")
{
#field(INPA,"B_DET_$(DET)_LV_GRP13:parsed:status2 CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP14:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP15:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP16:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP17:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP18:parsed:status2 CPP")
    field(CALC,"C>7||D>7||E>7||F>7")
}
record(calc,"B_DET_$(DET)_LV_GRP13-24:b:isError")
{
    field(INPA,"B_DET_$(DET)_LV_GRP19:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP20:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP21:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP22:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP23:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP24:parsed:status2 CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7")
}
record(calc,"B_DET_$(DET)_LV_GRP25-36:a:isError")
{
    field(INPA,"B_DET_$(DET)_LV_GRP25:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP26:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP27:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP28:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP29:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP30:parsed:status2 CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7")
}
record(calc,"B_DET_$(DET)_LV_GRP25-36:b:isError")
{
    field(INPA,"B_DET_$(DET)_LV_GRP31:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP32:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP33:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP34:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP35:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP36:parsed:status2 CPP")
    field(CALC,"A>7||B>7||C>7||D>7||E>7||F>7")
}
record(calc,"B_DET_$(DET)_LV_GRP37-40:isError")
{
#field(INPA,"B_DET_$(DET)_LV_GRP37:parsed:status2 CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP38:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP39:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP40:parsed:status2 CPP")
    field(CALC,"C>7||D>7")
}
record(calc,"B_DET_$(DET)_LV:isError")
{
    field(INPA,"B_DET_$(DET)_LV_GRP01-12:a:isError CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP01-12:b:isError CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP13-24:a:isError CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP13-24:b:isError CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP25-36:a:isError CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP25-36:b:isError CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP37-40:isError CPP")
    field(CALC,"(A+B+C+D+E+F+G)#0")
}

################################################
################################################

record(calc,"B_DET_$(DET)_LV_GRP01-12:a:isOn")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP01:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP02:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP03:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP04:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP05:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP06:parsed:status2 CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_$(DET)_LV_GRP01-12:b:isOn")
{
    field(INPA,"B_DET_$(DET)_LV_GRP07:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP08:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP09:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP10:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP11:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP12:parsed:status2 CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_$(DET)_LV_GRP13-24:a:isOn")
{
    field(SCAN,"1 second")
#field(INPA,"B_DET_$(DET)_LV_GRP13:parsed:status2 CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP14:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP15:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP16:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP17:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP18:parsed:status2 CPP")
    field(CALC,"C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_$(DET)_LV_GRP13-24:b:isOn")
{
    field(INPA,"B_DET_$(DET)_LV_GRP19:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP20:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP21:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP22:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP23:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP24:parsed:status2 CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_$(DET)_LV_GRP25-36:a:isOn")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP25:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP26:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP27:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP28:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP29:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP30:parsed:status2 CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_$(DET)_LV_GRP25-36:b:isOn")
{
    field(INPA,"B_DET_$(DET)_LV_GRP31:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP32:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP33:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP34:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP35:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP36:parsed:status2 CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1")
}
record(calc,"B_DET_$(DET)_LV_GRP37-40:isOn")
{
    field(SCAN,"1 second")
#field(INPA,"B_DET_$(DET)_LV_GRP37:parsed:status2 CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP38:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP39:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP40:parsed:status2 CPP")
    field(CALC,"C=1&&D=1")
}
record(calc,"B_DET_$(DET)_LV:isOn")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP01-12:a:isOn CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP01-12:b:isOn CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP13-24:a:isOn CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP13-24:b:isOn CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP25-36:a:isOn CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP25-36:b:isOn CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP37-40:isOn CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1&&E=1&&F=1&&G=1")
}

################################################
################################################

record(calc,"B_DET_$(DET)_LV_GRP01-12:isOff")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP01:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP02:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP03:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP04:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP05:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP06:parsed:status2 CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP07:parsed:status2 CPP")
    field(INPH,"B_DET_$(DET)_LV_GRP08:parsed:status2 CPP")
    field(INPI,"B_DET_$(DET)_LV_GRP09:parsed:status2 CPP")
    field(INPJ,"B_DET_$(DET)_LV_GRP10:parsed:status2 CPP")
    field(INPK,"B_DET_$(DET)_LV_GRP11:parsed:status2 CPP")
    field(INPL,"B_DET_$(DET)_LV_GRP12:parsed:status2 CPP")
    field(CALC,"(A+B+C+D+E+F+G+H+I+J+K+L)=0")
}
record(calc,"B_DET_$(DET)_LV_GRP13-24:isOff")
{
    field(SCAN,"1 second")
#field(INPA,"B_DET_$(DET)_LV_GRP13:parsed:status2 CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP14:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP15:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP16:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP17:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP18:parsed:status2 CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP19:parsed:status2 CPP")
    field(INPH,"B_DET_$(DET)_LV_GRP20:parsed:status2 CPP")
    field(INPI,"B_DET_$(DET)_LV_GRP21:parsed:status2 CPP")
    field(INPJ,"B_DET_$(DET)_LV_GRP22:parsed:status2 CPP")
    field(INPK,"B_DET_$(DET)_LV_GRP23:parsed:status2 CPP")
    field(INPL,"B_DET_$(DET)_LV_GRP24:parsed:status2 CPP")
    field(CALC,"(C+D+E+F+G+H+I+J+K+L)=0")
}
record(calc,"B_DET_$(DET)_LV_GRP25-36:isOff")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP25:parsed:status2 CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP26:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP27:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP28:parsed:status2 CPP")
    field(INPE,"B_DET_$(DET)_LV_GRP29:parsed:status2 CPP")
    field(INPF,"B_DET_$(DET)_LV_GRP30:parsed:status2 CPP")
    field(INPG,"B_DET_$(DET)_LV_GRP31:parsed:status2 CPP")
    field(INPH,"B_DET_$(DET)_LV_GRP32:parsed:status2 CPP")
    field(INPI,"B_DET_$(DET)_LV_GRP33:parsed:status2 CPP")
    field(INPJ,"B_DET_$(DET)_LV_GRP34:parsed:status2 CPP")
    field(INPK,"B_DET_$(DET)_LV_GRP35:parsed:status2 CPP")
    field(INPL,"B_DET_$(DET)_LV_GRP36:parsed:status2 CPP")
    field(CALC,"(A+B+C+D+E+F+G+H+I+J+K+L)=0")
}
record(calc,"B_DET_$(DET)_LV_GRP37-40:isOff")
{
    field(SCAN,"1 second")
#field(INPA,"B_DET_$(DET)_LV_GRP37:parsed:status2 CPP")
#field(INPB,"B_DET_$(DET)_LV_GRP38:parsed:status2 CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP39:parsed:status2 CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP40:parsed:status2 CPP")
    field(CALC,"C=0&&D=0")
}
record(calc,"B_DET_$(DET)_LV:isOff")
{
    field(SCAN,"1 second")
    field(INPA,"B_DET_$(DET)_LV_GRP01-12:isOff CPP")
    field(INPB,"B_DET_$(DET)_LV_GRP13-24:isOff CPP")
    field(INPC,"B_DET_$(DET)_LV_GRP25-36:isOff CPP")
    field(INPD,"B_DET_$(DET)_LV_GRP37-40:isOff CPP")
    field(CALC,"A=1&&B=1&&C=1&&D=1")
}

################################################
################################################

record(calc,"B_DET_RICH_ALL_LV:isOn")
{
    field(INPA,"B_DET_RICH_LV:isOn CPP")
    field(INPB,"B_DET_RICH2_LV:isOn CPP")
    field(CALC,"A=1&&B=1")
}
record(calc,"B_DET_RICH_ALL_LV:isOff")
{
    field(INPA,"B_DET_RICH_LV:isOff CPP")
    field(INPB,"B_DET_RICH2_LV:isOff CPP")
    field(CALC,"A=1&&B=1")
}
record(calc,"B_DET_RICH_ALL_LV:isError")
{
    field(INPA,"B_DET_RICH_LV:isError CPP")
    field(INPB,"B_DET_RICH2_LV:isError CPP")
    field(CALC,"A=1||B=1")
}
record(calc,"B_DET_RICH_ALL_LV:isComm")
{
    field(INPA,"B_DET_RICH_LV:isComm CPP")
    field(INPB,"B_DET_RICH2_LV:isComm CPP")
    field(CALC,"A=1&&B=1")
}

