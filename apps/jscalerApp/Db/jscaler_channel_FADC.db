

############################################################
# set threshold:
record(ao, "B_HW_$(CrName)_Sl$(Sl)_Ch$(Ch):tset") {
    field(DTYP,"JLAB_SCALERS")
    field(DESC,"scaler threshold")
    field(OUT,"#C$(CScode) S$(Thresh)")
    alias("B_DET_$(Det)_$(Sys)_$(Element):tset")
}

############################################################
# read threshold:
record(ai, "B_HW_$(CrName)_Sl$(Sl)_Ch$(Ch):t") {
    field(DTYP,"JLAB_SCALERS")
    field(DESC,"scaler threshold")
    field(INP,"#C$(CScode) S$(Thresh)")
    field(SCAN,"10 second")
    alias("B_DET_$(Det)_$(Sys)_$(Element):t")
}

############################################################
# read scaler:
record(waveform, "B_HW_$(CrName)_Sl$(Sl)_Ch$(Ch)") {
    field(DTYP,"JLAB_SCALERS") 
    field(DESC,"scaler waveform") 
    field(INP,"#C$(CScode) S$(Counts)") 
    field(NELM,"4")  
    field(FTVL,"DOUBLE")  
    field(SCAN,"2 second") 
    field(FLNK,"B_HW_$(CrName)_Sl$(Sl)_Ch$(Ch):c")
    alias("B_DET_$(Det)_$(Sys)_$(Element)")
}
record(subArray, "B_HW_$(CrName)_Sl$(Sl)_Ch$(Ch):c") {
    field(DESC,"fadc scaler")
    field(DTYP,"Soft Channel")
    field(INP,"B_HW_$(CrName)_Sl$(Sl)_Ch$(Ch).VAL")
    field(NELM,1)
    field(MALM,4)
    field(INDX,0)
    field(FTVL,"DOUBLE")
    alias("B_DET_$(Det)_$(Sys)_$(Element):c")
    alias("B_DET_$(Det)_$(Sys)_$(Element):c1")
}

