#
# Records for automoller.st
#
# N. Baltzell, 2018
#

###############################################
# status stuff:

record(stringin,"$(P)ctrl:msg") {
    field(VAL,"Uninitialized")
}
record(mbbi,"$(P)ctrl:status") {
    field(ZRST,"Not Configured")
    field(ONST,"Configuring")
    field(TWST,"Configured")
    field(THST,"Run In Progress")
    field(FRST,"DC HV OFF Error")
    field(FVST,"SVT OFF Error")
    field(SXST,"MVT OFF Error")
    field(SVST,"Quads Error")
    field(EIST,"Helmhotz Error")
    field(NIST,"Target Error")
    field(ZRSV,"NO_ALARM")
    field(ONSV,"NO_ALARM")
    field(TWSV,"NO_ALARM")
    field(THSV,"NO_ALARM")
    field(FRSV,"MAJOR")
    field(FVSV,"MAJOR")
    field(SXSV,"MAJOR")
    field(SVSV,"MAJOR")
    field(EISV,"MAJOR")
    field(NISV,"MAJOR")
    field(VAL,0)
    field(PINI,1)
}
record(ai,"$(P)ctrl:runno") {
    field(VAL,1000)
    info(autosaveFields_pass0,"VAL")
}
record(stringin,"$(P)ctrl:logcomments") {
    field(VAL,"None")
}
record(stringin,"$(P)ctrl:logusers") {
    field(VAL,"")
}

###############################################
# user controls:

record(bo,"$(P)ctrl:enter") {
    field(ZNAM,"N/A")
    field(ONAM,"Go")
}
record(bo,"$(P)ctrl:exit") {
    field(ZNAM,"N/A")
    field(ONAM,"Go")
}
record(bo,"$(P)ctrl:recfg") {
    field(ZNAM,"N/A")
    field(ONAM,"Go")
}
record(bo,"$(P)ctrl:start") {
    field(ZNAM,"N/A")
    field(ONAM,"Go")
}
record(bo,"$(P)ctrl:stop") {
    field(ZNAM,"N/A")
    field(ONAM,"Go")
}
record(bo,"$(P)ctrl:logentry") {
    field(ZNAM,"N/A")
    field(ONAM,"Go")
}
record(calcout,"$(P)ctrl:toggle") {
    field(INPA,"moller_accumulate")
    field(OUT,"moller_accumulate CPP")
    field(CALC,"A=0?1:0")
    field(OOPT,"Every Time")
    field(DOPT,"Use CALC")
}

###############################################
# configuration settings:

record(calcout,"$(P)cfg:quad:icalc") {
    field(INPA,"MBSY2C_energy")
    field(CALC,"A+2")
    field(OUT,"$(P)cfg:quad:iset PP")
}
record(ai,"$(P)cfg:quad:iset") {
    field(VAL,"1000")
    info(autosaveFields_pass0,"VAL")
}
record(ao,"$(P)cfg:helm:iset") {
    field(VAL,"3")
    field(DRVL,"0.0001")
    field(DRVH,"15")
    info(autosaveFields_pass0,"VAL")
}
record(ai,"$(P)cfg:slm:vset") {
    field(VAL,"400")
    info(autosaveFields_pass0,"VAL")
}
record(bi,"$(P)cfg:helm:pol") {
    field(ZNAM,"Negative")
    field(ONAM,"Positive")
    info(autosaveFields_pass0,"VAL")
}
record(mbbi,"$(P)cfg:tgt:pos") {
	field(ELVL,11)
	field(TVVL,12)
	field(TTVL,13)
	field(FTVL,14)
    field(ELST,"Left")
    field(TVST,"Empty")
    field(TTST,"Right")
    field(FTST,"Aluminum")
    field(VAL,"11")
    info(autosaveFields_pass0,"VAL")
}

